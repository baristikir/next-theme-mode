import e,{createContext as t,useContext as r,useState as o,useEffect as n,useMemo as i}from"react";var c=t({}),a=function(){var e=r(c);if(void 0===e)throw new Error("useTheme must  be  used within a ThemeModeContext  Provider");return e},u=function(t){var r=t.children,a=t.customThemes,u=o(""),l=u[0],m=u[1];n(function(){var e=window.document.documentElement.style.getPropertyValue("--initial-color-mode");m(e)},[]);var d=i(function(){return{colorMode:l,setColorMode:function(e){var t=window.document.documentElement;localStorage.setItem("color-mode",e),Object.entries(a[e]).forEach(function(e){t.style.setProperty("--color-"+e[0],String(e[1]))}),m(e)}}},[l,m]);return e.createElement(c.Provider,{value:d},r)};function l(){var e=function(){var e=window.localStorage.getItem("color-mode");if("string"==typeof e)return e;var t=window.matchMedia("(prefers-color-scheme: dark)");return"boolean"==typeof t.matches&&t.matches?"dark":"light"}(),t=document.documentElement;t.style.setProperty("--initial-color-mode",e),Object.entries("substitutedForTheme"[e]).forEach(function(e){t.style.setProperty("--color-"+e[0],String(e[1]))})}function m(t){var r=String(l).replace("'substitutedForTheme'",JSON.stringify(t));return e.createElement("script",{id:"theme-rehydrate",dangerouslySetInnerHTML:{__html:"("+r+")()"}})}export{m as ScriptHydrationTheme,c as ThemeContext,u as ThemeProvider,a as useTheme};
